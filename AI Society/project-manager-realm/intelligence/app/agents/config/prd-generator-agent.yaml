name: prd-generator-agent
version: v1
type: agent
description: |
  Converts clarified requirements into a formal Product Requirements Document (PRD) with complete sections.

inputs:
  requirement_description:
    type: string
    description: The clarified requirement description
  clarification_answers:
    type: array
    items:
      type: object
      properties:
        question_id: {type: integer}
        answer: {type: string}
    description: Answers to clarification questions
  project_context:
    type: object
    description: Project metadata and constraints

outputs:
  prd:
    type: object
    properties:
      title: {type: string}
      overview: {type: string}
      objectives: {type: array, items: {type: string}}
      user_stories: {type: array, items: {type: string}}
      acceptance_criteria: {type: array, items: {type: string}}
      requirements: {type: array}
      scope:
        type: object
        properties:
          in_scope: {type: array, items: {type: string}}
          out_of_scope: {type: array, items: {type: string}}
      technical_considerations: {type: array, items: {type: string}}
      timeline: {type: object}
      success_metrics: {type: array, items: {type: string}}

config:
  prd_structure: formal
  include_sections:
    - overview
    - objectives
    - user_stories
    - acceptance_criteria
    - requirements
    - scope
    - technical_considerations
    - timeline
    - success_metrics

# Routing
routing:
  provider: gemini
  model: gemini-3-pro-preview  # Use pro model for quality
  use_case: reasoning
  temperature: 0.3  # Lower temp for consistency
  max_tokens: 4000

# Prompt reference
prompt_template: v1_prd-generator.prompt

# Quality gates
quality_gates:
  - all_sections_present: true
  - acceptance_criteria_clear: true
  - success_metrics_measurable: true

# Metrics
metrics:
  - prd_completeness
  - requirement_clarity
  - technical_feasibility_score
  - estimated_effort_accuracy
